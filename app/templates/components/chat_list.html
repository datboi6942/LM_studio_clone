{% for chat in chats %}
<div class="chat-item sidebar-item p-2 rounded cursor-pointer hover:bg-base-300 transition-colors"
     onclick="window.location='/?id={{ chat.id }}'">
    
    <div class="flex justify-between items-start">
        <div class="flex-1 min-w-0">
            <h4 class="font-medium text-sm truncate">{{ chat.title }}</h4>
            <div class="flex items-center text-xs opacity-70 mt-1">
                {% if chat.folder %}
                <span class="badge badge-xs mr-2">{{ chat.folder }}</span>
                {% endif %}
                <span>{{ chat.message_count }} msgs</span>
            </div>
        </div>
        
        <div class="text-xs opacity-50 ml-2">
            <time>{{ chat.updated_at[:10] }}</time>
        </div>
    </div>
    
    {% if chat.highlight %}
    <div class="text-xs opacity-60 mt-1 italic">
        "{{ chat.highlight }}"
    </div>
    {% endif %}

    <div class="flex justify-end mt-1 space-x-1 text-xs">
        <button class="btn btn-ghost btn-xs"
                hx-post="/chat/{{ chat.id }}/delete"
                hx-target="closest .chat-item"
                hx-swap="delete">
            Delete
        </button>
    </div>
</div>
{% endfor %}

{% if not chats %}
<div class="text-center p-4 opacity-50">
    <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
    </svg>
    <p class="text-sm">No chats found</p>
    <button class="btn btn-sm btn-primary mt-2" onclick="newChat()">Start Chatting</button>
</div>
{% endif %}

